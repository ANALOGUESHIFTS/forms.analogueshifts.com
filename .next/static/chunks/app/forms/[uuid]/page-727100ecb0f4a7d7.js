(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{7882:function(e,t,r){Promise.resolve().then(r.bind(r,623)),Promise.resolve().then(r.bind(r,1378))},623:function(e,t,r){"use strict";r.d(t,{default:function(){return K}});var l=r(7437),a=r(2265),s=r(2376),o=r(2649),n=r(2447),i=r(9354);let d=n.fC,c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});c.displayName=n.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center duration-300 justify-center whitespace-nowrap px-3 py-2 text-sm font-medium   focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-background-lightYellow border-b-2 border-b-transparent data-[state=active]:border-b-background-lightYellow",r),...a})});u.displayName=n.xz.displayName;let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});x.displayName=n.VY.displayName;var m=r(4919),p=r(343),f=r(8068);let h=e=>/^\d{4}-\d{2}-\d{2}$/.test(e)?"".concat(e," 00:00:00"):"";var b=e=>{let{title:t,description:o,timeout:n,multiResponse:i,deadline:d,user:c,uuid:u}=e,{toast:x}=(0,f.pm)(),[b,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(t),[w,N]=(0,a.useState)(o),[v,k]=(0,a.useState)("1"===i),[E,S]=(0,a.useState)(parseInt(n)||""),[C,Y]=(0,a.useState)(d[0]?h(d):""),q=async e=>{e.preventDefault();let t=r(4681),l={method:"PUT",url:"".concat("https://api.analogueshifts.com/api","/tools/form/update/").concat(u),headers:{"Content-Type":"application/json",Authorization:"Bearer "+c.token},data:{title:y,timeout:String(E).trim().length>0?E:null,deadline:C,multi_response:v?"1":"0",description:w}};g(!0);try{await t.request(l),g(!1),x({variant:"default",title:"Form updated",description:"Your form has been updated successfully"})}catch(e){g(!1),x({variant:"destructive",title:"Error updating your form",description:e.message})}};return(0,l.jsxs)("form",{onSubmit:q,className:"w-full flex flex-wrap gap-x-5 gap-y-5 bg-[#FEFEFE]  border border-[#E7E7E7] px-4 lg:px-10 py-7 rounded-3xl",children:[b&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{})}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(20%-10px)] flex flex-col gap-4",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"MULTI RESPONSE"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(p.r,{checked:v,onCheckedChange:e=>k(e)})})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(80%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"TITLE"}),(0,l.jsx)("input",{required:!0,type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"e.g “Getting to know you”",className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"TIME OUT (In Minutes)"}),(0,l.jsx)("input",{type:"number",value:E,onChange:e=>S(e.target.value),className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"DEADLINE"}),(0,l.jsx)("input",{required:!0,type:"datetime-local",value:C,onChange:e=>Y(e.target.value),className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"DESCRIPTION"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(m.g,{value:w,onChange:e=>N(e.target.value),className:"text-[13px] rounded-2xl px-5 border border-primary-boulder200 font-light placeholder:text-primary-boulder300 text-primary-boulder950"})})]}),(0,l.jsx)("div",{className:" flex w-full",children:(0,l.jsx)("input",{value:"Save changes",type:"submit",className:"px-10 text-[#FEFEFE] text-base duration-300 hover:scale-105 font-normal flex items-center gap-2 h-12 bg-background-lightYellow rounded-full border-none cursor-pointer"})})]})},g=r(8022),y=r(9282),j=r(5127),w=r(4444),N=r(4662),v=r(9733),k=r(8101),E=r(8297),S=r(2421),C=r(4392),Y=r(2468);let q=E.fC;E.ZA;let D=E.B4,F=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,l.jsxs)(E.xz,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-background-lightYellow focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[a,(0,l.jsx)(E.JO,{asChild:!0,children:(0,l.jsx)(S.Z,{className:"h-4 w-4 opacity-50"})})]})});F.displayName=E.xz.displayName;let _=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(E.u_,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,l.jsx)(C.Z,{className:"h-4 w-4"})})});_.displayName=E.u_.displayName;let R=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(E.$G,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,l.jsx)(S.Z,{className:"h-4 w-4"})})});R.displayName=E.$G.displayName;let z=a.forwardRef((e,t)=>{let{className:r,children:a,position:s="popper",...o}=e;return(0,l.jsx)(E.h_,{children:(0,l.jsxs)(E.VY,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...o,children:[(0,l.jsx)(_,{}),(0,l.jsx)(E.l_,{className:(0,i.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,l.jsx)(R,{})]})})});z.displayName=E.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(E.__,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=E.__.displayName;let T=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,l.jsxs)(E.ck,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(E.wU,{children:(0,l.jsx)(Y.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(E.eT,{children:a})]})});T.displayName=E.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(E.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=E.Z0.displayName;var U=e=>{let{questionData:t,submit:r}=e,[s,o]=(0,a.useState)(t.question?t.question:""),[n,i]=(0,a.useState)(t.answer?t.answer:""),[d,c]=(0,a.useState)(t.type?t.type:"short_text"),[u,x]=(0,a.useState)(t.options?t.options:[{value:"Option 1"}]),[m,f]=(0,a.useState)("1"===t.required),h=(e,t)=>{let r=[...u];r[e].value=t.target.value,x(r)},b=e=>{let t=[...u];t.splice(e,1),x(t)};return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({number:t.number,question:s,answer:n,type:d,options:u,required:m})},className:"w-full flex flex-wrap gap-x-5 gap-y-5  h-max px-2 py-5 rounded-3xl",children:[(0,l.jsxs)("div",{className:"w-full md:w-[calc(65%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"QUESTION"}),(0,l.jsx)("input",{required:!0,type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"e.g “What is your role?”",className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(35%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"TYPE"}),(0,l.jsxs)(q,{value:d,onValueChange:e=>c(e),children:[(0,l.jsx)(F,{className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-none",children:(0,l.jsx)(D,{placeholder:"TYPE"})}),(0,l.jsx)(z,{children:["short_text","long_text","radio","checkbox","image","pdf"].map(e=>(0,l.jsx)(T,{className:"focus:bg-background-lightYellow/10 py-2 text-xs text-primary-boulder900",value:e,children:e.toUpperCase()},e))})]})]}),("short_text"===d||"long_text"===d)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"ANSWER"}),"long_text"===d?(0,l.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"e.g “Frontend Development”",className:"max-w-full w-full h-24 pt-3 rounded-2xl px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"}):(0,l.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"e.g “Frontend Development”",className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),("image"===d||"pdf"===d)&&(0,l.jsx)("div",{className:"w-full flex flex-col gap-3 -z-10",children:(0,l.jsx)(k.Z,{fileType:d})}),("radio"===d||"checkbox"===d)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400 mb-1",children:"OPTIONS"}),u.map((e,t)=>(0,l.jsxs)("div",{className:"w-full flex justify-between items-cenFter",children:[(0,l.jsxs)("div",{className:"w-11/12 flex items-center gap-2.5",children:[(0,l.jsx)("div",{className:"w-4 h-4 border border-primary-boulder200 ".concat("radio"===d?"rounded-full":"rounded")}),(0,l.jsx)("input",{onChange:e=>h(t,e),value:e.value,className:"w-[calc(100%-26px)] border-b focus:border-tremor-brand-boulder300/80 border-primary-boulder200/50 text-[13px] pb-1 px-1 font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-none"})]}),(0,l.jsx)("button",{onClick:()=>b(t),type:"button",className:"text-base hover:text-primary-boulder950 font-normal text-primary-boulder400",children:(0,l.jsx)("i",{className:"fas fa-xmark"})})]},crypto.randomUUID())),(0,l.jsxs)("button",{onClick:()=>{x(e=>[...e,{value:"Option ".concat(e.length+1)}])},type:"button",className:"text-sm font-normal hover:text-primary-boulder950 text-primary-boulder400 mr-auto",children:["Add ",u.length>0?"another":"option"]})]}),(0,l.jsxs)("div",{className:"w-full flex items-center gap-4",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"REQUIRED"}),(0,l.jsx)(p.r,{checked:m,onCheckedChange:e=>f(e)})]}),(0,l.jsx)("div",{className:"w-full mt-5 flex justify-end",children:(0,l.jsx)(N.GG,{className:"".concat(s.trim().length<1?"-z-10 opacity-50":"z-auto opacity-100"," duration-300"),children:(0,l.jsx)(v.z,{type:"submit",className:"bg-background-lightYellow hover:bg-background-lightYellow/80",children:"Update Question"})})})]})};function I(){return(0,l.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-black/30 z-50",children:(0,l.jsxs)("div",{className:"lds-roller",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]})})}var Z=e=>{let{data:t,setFormQuestions:r,handleDeleteQuestion:s}=e,o=(0,y.o)(),{toast:n}=(0,f.pm)(),[i,d]=(0,a.useState)(!1),c=e=>{e.uuid?s(e.uuid):(r(t=>t.filter(t=>t.number!==e.number)),n({variant:"default",title:"Question Deleted",description:"Your question has been removed."}))};return(0,l.jsxs)(g.t.Item,{value:t,dragListener:!1,dragControls:o,children:[i&&(0,l.jsx)(I,{}),(0,l.jsxs)("form",{className:"w-full mt-5 flex flex-wrap gap-x-5 gap-y-5 bg-[#FEFEFE]  border border-[#E7E7E7] h-max px-4 lg:px-10 py-5 rounded-3xl",children:[(0,l.jsx)("div",{onPointerDown:e=>o.start(e),className:"cursor-move w-full h-3 flex justify-center items-center",children:(0,l.jsx)("i",{className:"fas fa-grip text-primary-boulder400"})}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(65%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"QUESTION"}),(0,l.jsx)("input",{disabled:!0,type:"text",value:t.question,placeholder:"e.g “What is your role?”",className:"max-w-full w-full disabled:bg-white h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(35%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"TYPE"}),(0,l.jsx)("select",{disabled:!0,value:t.type,className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-none",children:["short_text","long_text","radio","checkbox","image","pdf"].map(e=>(0,l.jsx)("option",{value:e,children:e},crypto.randomUUID()))})]}),("short_text"===t.type||"long_text"===t.type)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"ANSWER"}),"long_text"===t.type?(0,l.jsx)("textarea",{disabled:!0,value:t.answer,placeholder:"e.g “Frontend Development”",className:"max-w-full w-full h-24 pt-3 disabled:bg-white rounded-2xl px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"}):(0,l.jsx)("input",{disabled:!0,type:"text",value:t.answer,placeholder:"e.g “Frontend Development”",className:"max-w-full disabled:bg-white w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),("image"===t.type||"pdf"===t.type)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3 relative",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-transparent"}),(0,l.jsx)(k.Z,{fileType:t.type})]}),("radio"===t.type||"checkbox"===t.type)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400 mb-1",children:"OPTIONS"}),(0,l.jsx)(j.M,{mode:"sync",children:t.options.map(e=>(0,l.jsx)(w.E.div,{layout:!0,animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring"},className:"w-full flex justify-between items-center",children:(0,l.jsxs)("div",{className:"w-11/12 flex items-center gap-2.5",children:[(0,l.jsx)("div",{className:"w-4 h-4 border border-primary-boulder200 ".concat("radio"===t.type?"rounded-full":"rounded")}),(0,l.jsx)("input",{disabled:!0,value:e.value,className:"w-[calc(100%-26px)] disabled:bg-transparent text-[13px] pb-1 px-1 font-light  text-primary-boulder950 outline-none"})]})},e.id))})]}),(0,l.jsxs)("div",{className:"w-full flex items-center gap-4",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"REQUIRED"}),(0,l.jsx)(p.r,{disabled:!0,checked:t.required})]}),(0,l.jsxs)("div",{className:"w-full  flex-wrap justify-center items-center flex md:justify-end py-5 gap-5 border-t border-primary-boulder200",children:[(0,l.jsxs)(N.Vq,{children:[(0,l.jsx)(N.hg,{children:(0,l.jsxs)("span",{className:"text-xs font-normal hover:text-primary-boulder950 text-primary-boulder400 border-none bg-transparent outline-none flex items-center gap-1",children:[(0,l.jsx)("i",{className:"fa-regular fa-edit text-sm"})," EDIT"]})}),(0,l.jsxs)(N.cZ,{className:"w-[90%] duration-300 max-w-[1000px] h-max max-h-[80dvh] overflow-y-auto",children:[(0,l.jsx)(N.fK,{children:(0,l.jsxs)(N.$N,{className:"text-primary-boulder950",children:["Edit Question ",t.number]})}),(0,l.jsx)(U,{questionData:t,submit:e=>{r(t=>t.map(t=>t.number!==e.number?t:{...t,question:e.question,answer:e.answer,type:e.type,options:e.options,required:e.required}))}})]})]}),(0,l.jsxs)(N.Vq,{children:[(0,l.jsx)(N.hg,{children:(0,l.jsxs)("span",{className:"text-xs font-normal text-red-600 border-none bg-transparent outline-none flex items-center gap-1",children:[(0,l.jsx)("i",{className:"fa-regular fa-trash-can text-sm"})," REMOVE"]})}),(0,l.jsxs)(N.cZ,{children:[(0,l.jsxs)(N.fK,{children:[(0,l.jsx)(N.$N,{className:"text-primary-boulder950",children:"Are you sure you want to remove the Question:"}),(0,l.jsx)(N.Be,{children:t.question})]}),(0,l.jsx)(N.hg,{className:"w-max ml-auto",children:(0,l.jsx)("span",{onClick:()=>c(t),className:"bg-red-500 text-background-white300 px-5 py-2.5 rounded text-sm hover:bg-red-500/80",children:"Delete Question"})})]})]})]})]})]},t.number)},A=e=>{let{questionNumber:t,submitQuestion:r}=e,[s,o]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[d,c]=(0,a.useState)("short_text"),[u,x]=(0,a.useState)([{value:"Option 1"}]),[m,f]=(0,a.useState)(!1),h=(e,t)=>{let r=[...u];r[e].value=t.target.value,x(r)},b=e=>{let t=[...u];t.splice(e,1),x(t)};return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({number:t,question:s,answer:n,type:d,options:u,required:m})},className:"w-full flex flex-wrap gap-x-5 gap-y-5  h-max px-2 py-5 rounded-3xl",children:[(0,l.jsxs)("div",{className:"w-full md:w-[calc(65%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"QUESTION"}),(0,l.jsx)("input",{required:!0,type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"e.g “What is your role?”",className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),(0,l.jsxs)("div",{className:"w-full md:w-[calc(35%-10px)] flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"TYPE"}),(0,l.jsxs)(q,{value:d,onValueChange:e=>c(e),children:[(0,l.jsx)(F,{className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-none",children:(0,l.jsx)(D,{placeholder:"TYPE"})}),(0,l.jsx)(z,{children:["short_text","long_text","radio","checkbox","image","pdf"].map(e=>(0,l.jsx)(T,{className:"focus:bg-background-lightYellow/10 py-2 text-xs text-primary-boulder900",value:e,children:e.toUpperCase()},e))})]})]}),("short_text"===d||"long_text"===d)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"ANSWER"}),"long_text"===d?(0,l.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"e.g “Frontend Development”",className:"max-w-full w-full h-24 pt-3 rounded-2xl px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"}):(0,l.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"e.g “Frontend Development”",className:"max-w-full w-full h-14 rounded-2xl  px-5 border border-primary-boulder200 text-[13px] font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-1 outline-background-lightYellow"})]}),("image"===d||"pdf"===d)&&(0,l.jsx)("div",{className:"w-full flex flex-col gap-3 -z-10",children:(0,l.jsx)(k.Z,{fileType:d})}),("radio"===d||"checkbox"===d)&&(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400 mb-1",children:"OPTIONS"}),(0,l.jsx)(j.M,{mode:"sync",children:u.map((e,t)=>(0,l.jsxs)(w.E.div,{layout:!0,animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring"},className:"w-full flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"w-11/12 flex items-center gap-2.5",children:[(0,l.jsx)("div",{className:"w-4 h-4 border border-primary-boulder200 ".concat("radio"===d?"rounded-full":"rounded")}),(0,l.jsx)("input",{onChange:e=>h(t,e),value:e.value,className:"w-[calc(100%-26px)] border-b focus:border-tremor-brand-boulder300/80 border-primary-boulder200/50 text-[13px] pb-1 px-1 font-light placeholder:text-primary-boulder300 text-primary-boulder950 outline-none"})]}),(0,l.jsx)("button",{onClick:()=>b(t),type:"button",className:"text-base hover:text-primary-boulder950 font-normal text-primary-boulder400",children:(0,l.jsx)("i",{className:"fas fa-xmark"})})]},t))}),(0,l.jsxs)("button",{onClick:()=>{x(e=>[...e,{value:"Option ".concat(e.length+1)}])},type:"button",className:"text-sm font-normal hover:text-primary-boulder950 text-primary-boulder400 mr-auto",children:["Add ",u.length>0?"another":"option"]})]}),(0,l.jsxs)("div",{className:"w-full flex items-center gap-4",children:[(0,l.jsx)("p",{className:"text-sm font-normal text-primary-boulder400",children:"REQUIRED"}),(0,l.jsx)(p.r,{checked:m,onCheckedChange:e=>f(e)})]}),(0,l.jsx)("div",{className:"w-full mt-5 flex justify-end",children:(0,l.jsx)(N.GG,{className:"".concat(s.trim().length<1?"-z-10 opacity-50":"z-auto opacity-100"," duration-300"),children:(0,l.jsx)(v.z,{type:"submit",className:"bg-background-lightYellow hover:bg-background-lightYellow/80",children:"Add Question"})})})]})},O=e=>{let{uuid:t,user:o,questions:n}=e,[i,d]=(0,a.useState)(n),[c,u]=(0,a.useState)(!1),{toast:x}=(0,f.pm)(),m=async e=>{let t=r(4681),l={method:"DELETE",url:"https://api.analogueshifts.com/api/tools/form/question/delete/"+e,headers:{Authorization:"Bearer "+o.token}};try{u(!0),await t.request(l),x({variant:"default",title:"Question Deleted",description:"Your question has been removed."}),d(t=>t.filter(t=>t.uuid!==e)),u(!1)}catch(e){u(!1),x({variant:"destructive",title:"Error Deleting Question",description:e.message})}},p=async()=>{let e=r(4681),l=[];i[0]&&i.forEach((e,t)=>{l.push({...e,number:String(t+1)})});let a={method:"POST",url:"https://api.analogueshifts.com/api/tools/form/question/store/"+t,headers:{Authorization:"Bearer "+o.token},data:l};u(!0);try{await e.request(a),u(!1),x({variant:"default",title:"Form Updated",description:"Your Form questions has been Updated"}),d(l)}catch(e){u(!1),x({variant:"destructive",title:"An error occured",description:e.message})}};return(0,l.jsxs)("main",{className:"w-full py-10",children:[c&&(0,l.jsx)(s.Z,{}),(0,l.jsxs)("div",{style:{background:"rgb(243 244 246/1)"},className:"w-full z-30 sticky top-[76px] backdrop-blur-lg mt-6 flex-wrap gap-5 flex justify-center md:justify-between items-center h-max py-5 ",children:[(0,l.jsx)("span",{className:"font-medium md:text-lg text-base text-primary-boulder950",children:"Questions"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(N.Vq,{children:[(0,l.jsx)(N.hg,{children:(0,l.jsxs)("span",{className:"py-2 min-h-10 h-max cursor-pointer rounded-full px-4 md:px-8 flex justify-center items-center gap-3 border border-background-lightYellow font-normal md:text-base text-sm bg-transparent text-background-lightYellow",children:["Add question",(0,l.jsx)("i",{className:"fas fa-plus"})]})}),(0,l.jsxs)(N.cZ,{className:"w-[90%] duration-300 max-w-[1000px] h-max max-h-[80dvh] overflow-y-auto",children:[(0,l.jsx)(N.fK,{children:(0,l.jsx)(N.$N,{className:"text-primary-boulder950",children:"Create new question"})}),(0,l.jsx)(A,{questionNumber:String(i.length+1),submitQuestion:e=>{d(t=>[e,...t])}})]})]}),i[0]&&(0,l.jsx)("button",{onClick:p,className:"px-4 md:px-8 text-[#FEFEFE] text-base  font-normal flex items-center gap-2 py-2 min-h-10 h-max bg-background-lightYellow rounded-full border-none cursor-pointer",children:"Update Questions"})]})]}),(0,l.jsx)("div",{className:"w-full mt-5 z-20",children:(0,l.jsx)(g.t.Group,{onReorder:d,values:i,children:i.map(e=>(0,l.jsx)(Z,{handleDeleteQuestion:m,data:e,setFormQuestions:d},crypto.randomUUID()))})})]})},Q=r(5188),P=r(5733),V=r(560),G=r(399),B=r(1590),$=r(3655),M=r(6463);function W(e){let{user:t,form:r,setLoading:a}=e,{toast:s}=(0,f.pm)(),o=(0,M.useRouter)(),n=async()=>{a(!0),(0,$.f)("".concat("https://api.analogueshifts.com/api","/tools/form/delete/").concat(r.uuid),t.token,()=>{s({variant:"default",title:"Form deleted successfully",style:{backgroundColor:"green",color:"white"}}),o.push("/forms")},e=>{s({variant:"destructive",title:"Uh oh! Error deleting form.",description:e.message}),a(!1),console.log(e)})};return(0,l.jsxs)(B.h_,{children:[(0,l.jsx)(B.$F,{asChild:!0,children:(0,l.jsx)("div",{className:"w-11 h-11 rounded-full flex items-center justify-center bg-transparent hover:bg-background-lightYellow/20 duration-150 cursor-pointer",children:(0,l.jsx)(Q.Z,{width:20,height:20})})}),(0,l.jsxs)(B.AW,{className:"w-56 rounded-2xl",children:[(0,l.jsx)(B.Ju,{className:"text-primary-boulder950 py-3",children:"Actions"}),(0,l.jsx)(B.VD,{}),(0,l.jsxs)(B.Qk,{children:[(0,l.jsxs)(B.Xi,{onClick:()=>o.push("/forms/show/"+r.uuid),className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,l.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Preview"})]}),(0,l.jsxs)(B.Xi,{className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",onClick:async()=>{if(navigator.share)try{await navigator.share({title:r.title,text:"Analogueshifts Forms",url:window.location.origin+"/forms/show/"+r.uuid})}catch(e){s({variant:"destructive",title:"Error sharing content",description:"There was a problem with your request."})}else s({variant:"destructive",title:"Sharing not supported on this device.",description:"There was a problem with your request."})},children:[(0,l.jsx)(V.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Share"})]}),(0,l.jsxs)(B.Xi,{onClick:n,className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,l.jsx)(G.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Delete"})]})]})]})]})}var L=r(3550),J=e=>{let{responses:t,formUUID:r}=e,a=(0,M.useRouter)();return(0,l.jsx)("section",{className:"w-full mx-auto   pt-4",children:(0,l.jsxs)("div",{className:"w-full max-w-full py-6  bg-[#FEFEFE] overflow-x-auto rounded-3xl border border-[#E7E7E7]",children:[(0,l.jsxs)("h3",{className:"text-primary-boulder950 px-6 text-base font-medium pb-2 w-full",children:[t.length," responses"]}),(0,l.jsxs)("table",{className:"w-full min-w-[800px] ",children:[(0,l.jsxs)("tr",{className:"w-full h-11",children:[(0,l.jsx)("th",{className:"text-[15px] pl-6 text-primary-boulder900 w-2/5 font-normal text-start ",children:"Email"}),(0,l.jsx)("th",{className:"text-[15px] text-primary-boulder900 w-[35%] font-normal text-start",children:"Date"}),(0,l.jsx)("th",{className:"text-[15px] text-primary-boulder900 w-[15%] font-normal text-start",children:"Score"}),(0,l.jsx)("th",{className:"text-[15px] pr-6 text-primary-boulder900 w-[10%] font-normal text-center",children:"Actions"})]}),t.map((e,t)=>(0,l.jsxs)("tr",{className:"w-full h-11 ".concat(t%2==0?"bg-primary-boulder300/10":""),children:[(0,l.jsx)("td",{className:"text-sm pl-6 text-primary-boulder900 w-2/5 font-normal text-start ",children:e.email}),(0,l.jsx)("td",{className:"text-sm text-primary-boulder900 w-[35%] font-normal text-start",children:e.created_at}),(0,l.jsx)("td",{className:"text-sm text-primary-boulder900 w-[15%] font-normal text-start",children:e.score||"Not scored"}),(0,l.jsx)("td",{className:"text-sm text-primary-boulder900 w-[10%] font-normal text-center",children:(0,l.jsxs)(B.h_,{children:[(0,l.jsx)(B.$F,{asChild:!0,children:(0,l.jsx)("div",{className:"outline-none w-max h-max cursor-pointer border-none  py-1 px-2 mx-auto rounded-full",children:(0,l.jsx)(L.Z,{width:15,className:"text-primary-boulder500"})})}),(0,l.jsxs)(B.AW,{className:"w-56 rounded-2xl",children:[(0,l.jsx)(B.Ju,{className:"text-primary-boulder950 py-3",children:"Actions"}),(0,l.jsx)(B.VD,{}),(0,l.jsx)(B.Qk,{children:(0,l.jsxs)(B.Xi,{onClick:()=>a.push("/forms/".concat(r,"/response/").concat(e.uuid)),className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,l.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),(0,l.jsx)("span",{children:"Open Response"})]})})]})]})})]},crypto.randomUUID()))]})]})})},K=e=>{let{uuid:t}=e,[n,i]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(null),[y,j]=(0,a.useState)([]),[w,N]=(0,a.useState)([]),{toast:v}=(0,f.pm)(),k=r(4681),E=async()=>{let e={method:"GET",url:"https://api.analogueshifts.com/api/tools/form/"+t,headers:{Authorization:"Bearer "+m.token}};try{let t=await k.request(e);g(t.data.data.form),j(t.data.data.questions.sort((e,t)=>parseInt(e.number)-parseInt(t.number)))}catch(e){v({variant:"destructive",title:"Error fetching your form",description:e.message})}},S=async()=>{let e={method:"GET",url:"https://api.analogueshifts.com/api/tools/form/responses/"+t,headers:{Authorization:"Bearer "+m.token}};try{let t=await k.request(e);N(t.data.data.response)}catch(e){v({variant:"destructive",title:"Error fetching your form Responses",description:e.message})}},C=async()=>{try{i(!0),await S(),i(!1)}catch(e){i(!1)}},Y=async()=>{try{i(!0),await E(),await S(),i(!1)}catch(e){i(!1)}};return(0,a.useEffect)(()=>{let e=o.Z.get("analogueshifts");if(!e)return window.location.href="/login",null;p(JSON.parse(e))},[]),(0,a.useEffect)(()=>{m&&Y()},[m]),(0,l.jsxs)("main",{className:"max-w-dashboard mt-1 w-[90%] mx-auto",children:[n&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{})}),(0,l.jsxs)(d,{defaultValue:"questions",className:"w-full relative",children:[(0,l.jsxs)(c,{className:"w-full flex justify-center bg-transparent",children:[(0,l.jsx)(u,{value:"questions",children:"Questions"}),(0,l.jsx)(u,{onClick:C,value:"responses",children:"Responses"})]}),h&&(0,l.jsx)("div",{className:"absolute h-11 right-0 top-0 flex items-center",children:(0,l.jsx)(W,{user:m,form:h,setLoading:i})}),(0,l.jsxs)(x,{value:"questions",className:"pt-5",children:[h&&(0,l.jsx)(b,{title:h.title,description:h.description,deadline:h.deadline,multiResponse:h.multi_response,timeout:h.timeout,user:m,uuid:t}),h&&(0,l.jsx)(O,{uuid:t,user:m,questions:y})]}),(0,l.jsx)(x,{value:"responses",children:(0,l.jsx)(J,{responses:w,formUUID:t})})]})]})}},8101:function(e,t,r){"use strict";var l=r(7437),a=r(2265),s=r(8068);t.Z=e=>{let{value:t,setValue:r,fileType:o}=e,[n,i]=(0,a.useState)(t?"Success":""),d=(0,a.useRef)(),{toast:c}=(0,s.pm)();return(0,a.useEffect)(()=>{t&&i("Success")},[t]),(0,l.jsxs)("section",{children:[(0,l.jsx)("input",{accept:"image"===o?"image/jpeg,image/png":"application/pdf",onChange:e=>{let t=e.target.files[0];if(t&&t.size>5242880){c({variant:"destructive",title:"File size exceeds the limit (5 MB)"});return}t?r(t):i("")},ref:d,type:"file",className:"-z-10 hidden opacity-0"}),(0,l.jsx)("div",{onClick:()=>d.current.click(),className:"max-w-full cursor-pointer py-5 w-full h-auto border-dashed rounded-3xl  px-5 border  flex flex-col items-center ".concat("Success"===n?"border-primary-success":"border-primary-boulder200"),children:"Success"!==n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"flex text-primary-boulder700 items-center gap-1.5 mb-1",children:[(0,l.jsx)("span",{className:"font-medium text-sm",children:"Upload Here"}),(0,l.jsx)("i",{className:"fas fa-cloud-arrow-up text-sm"})]}),(0,l.jsxs)("p",{className:"font-light text-[13px] text-primary-boulder500 mb-1",children:["Supports ","image"===o?"JPG, JPEG, PNG":"PDF"]}),(0,l.jsx)("p",{className:"font-light text-[13px] text-primary-boulder500 mb-1",children:"Maximum file size 5mb"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"flex text-primary-success items-center gap-1.5 mb-1",children:[(0,l.jsx)("span",{className:"font-medium text-sm",children:"Upload Successful"}),(0,l.jsx)("i",{className:"fas fa-circle-check text-sm"})]}),(0,l.jsx)("p",{className:"font-light text-[13px] text-primary-success mb-1",children:null==t?void 0:t.name})]})})]})}},4662:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Be:function(){return b},GG:function(){return u},Vq:function(){return i},cN:function(){return f},cZ:function(){return m},fK:function(){return p},hg:function(){return d}});var l=r(7437),a=r(2265),s=r(3304),o=r(4697),n=r(9354);let i=s.fC,d=s.xz,c=s.h_,u=s.x8,x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(s.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/40  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});x.displayName=s.aV.displayName;let m=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(x,{}),(0,l.jsxs)(s.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[a,(0,l.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=s.VY.displayName;let p=e=>{let{className:t,...r}=e;return(0,l.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};p.displayName="DialogHeader";let f=e=>{let{className:t,...r}=e;return(0,l.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};f.displayName="DialogFooter";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(s.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});h.displayName=s.Dx.displayName;let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(s.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});b.displayName=s.dk.displayName},343:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});var l=r(7437),a=r(2265),s=r(9646),o=r(9354);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)(s.fC,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-background-lightYellow data-[state=unchecked]:bg-input",r),...a,ref:t,children:(0,l.jsx)(s.bU,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=s.fC.displayName},4919:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var l=r(7437),a=r(2265),s=r(9354);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-lightYellow focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});o.displayName="Textarea"},3655:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});let l=(e,t,l,a)=>{r(4681).request({method:"DELETE",url:e,headers:{Authorization:"Bearer "+t}}).then(l).catch(a)}}},function(e){e.O(0,[231,145,204,7,528,77,378,971,23,744],function(){return e(e.s=7882)}),_N_E=e.O()}]);