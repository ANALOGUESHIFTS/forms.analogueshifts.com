(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{1789:function(e,t,s){Promise.resolve().then(s.bind(s,7766)),Promise.resolve().then(s.bind(s,1378))},5188:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},3550:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},5733:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},399:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},7766:function(e,t,s){"use strict";s.d(t,{default:function(){return I}});var a=s(7437),r=s(2265),l=s(6463),i=s(8068),n=s(2649);let c=(e,t,a,r)=>{s(4681).request({method:"GET",url:e,headers:{Authorization:"Bearer "+t}}).then(a).catch(r)};var o=s(3655),d=s(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var A=s(7592),h=s(3550),m=s(9354),x=s(9733);let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,m.cn)("mx-auto flex w-full justify-center",t),...s})};p.displayName="Pagination";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("ul",{ref:t,className:(0,m.cn)("flex flex-row items-center gap-1",s),...r})});g.displayName="PaginationContent";let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("li",{ref:t,className:(0,m.cn)("",s),...r})});f.displayName="PaginationItem";let j=e=>{let{className:t,isActive:s,size:r="icon",...l}=e;return(0,a.jsx)("a",{"aria-current":s?"page":void 0,className:(0,m.cn)((0,x.d)({variant:s?"outline":"ghost",size:r}),t),...l})};j.displayName="PaginationLink";let y=e=>{let{className:t,...s}=e;return(0,a.jsxs)(j,{"aria-label":"Go to previous page",size:"default",className:(0,m.cn)("gap-1 pl-2.5",t),...s,children:[(0,a.jsx)(u,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Previous"})]})};y.displayName="PaginationPrevious";let w=e=>{let{className:t,...s}=e;return(0,a.jsxs)(j,{"aria-label":"Go to next page",size:"default",className:(0,m.cn)("gap-1 pr-2.5",t),...s,children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(A.Z,{className:"h-4 w-4"})]})};w.displayName="PaginationNext";let v=e=>{let{className:t,...s}=e;return(0,a.jsxs)("span",{"aria-hidden":!0,className:(0,m.cn)("flex h-9 w-9 items-center justify-center",t),...s,children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"More pages"})]})};v.displayName="PaginationEllipsis";var b=s(2513),N=s(6648),k={src:"/_next/static/media/form-template.c091f153.jpg",height:2048,width:2048,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABgEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAsARH/8QAHxAAAgECBwAAAAAAAAAAAAAAAgMBAAQFBhEUIjEy/9oACAEBAAE/AMMvdxl4muaJPIXzz79TpX//xAAYEQACAwAAAAAAAAAAAAAAAAABAgADEf/aAAgBAgEBPwC1yjYJ/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAIDEf/aAAgBAwEBPwCc1ousf//Z",blurWidth:8,blurHeight:8},E=s(5188);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,d.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var Z=s(5733),B=s(560),P=s(399),D=s(1590),F=e=>{let{item:t,deleteForm:s}=e,{toast:r}=(0,i.pm)(),n=(0,l.useRouter)(),c=async()=>{if(navigator.share)try{await navigator.share({title:t.title,text:"",url:window.location.href+"/"+t.uuid})}catch(e){r({variant:"destructive",title:"Error sharing content",description:"There was a problem with your request."})}else r({variant:"destructive",title:"Sharing not supported on this device.",description:"There was a problem with your request."})};return(0,a.jsxs)("div",{className:"col-span-1 bg-[#FEFEFE] h-64 rounded-lg border flex flex-col overflow-hidden hover:border-background-lightYellow",children:[(0,a.jsx)(N.default,{src:k,alt:"Form Background",className:"w-full h-3/4 object-cover"}),(0,a.jsxs)("div",{className:"w-full h-1/4 border-t px-3 md:px-5 items-center py-2.5 flex justify-between",children:[(0,a.jsxs)("div",{className:"w-4/5 flex flex-col justify-between h-full",children:[(0,a.jsx)("h3",{className:"text-primary-boulder950 font-semibold text-sm truncate",children:t.title}),(0,a.jsxs)("span",{className:"text-xs text-primary-boulder400 truncate",children:["Deadline: ",t.deadline]})]}),(0,a.jsx)("div",{className:"w-max",children:(0,a.jsxs)(D.h_,{children:[(0,a.jsx)(D.$F,{asChild:!0,children:(0,a.jsx)("div",{className:"outline-none cursor-pointer border-none hover:bg-background-lightYellow/20 py-2 px-1 rounded-full",children:(0,a.jsx)(E.Z,{height:15,className:"text-primary-boulder500"})})}),(0,a.jsxs)(D.AW,{className:"w-56 rounded-2xl",children:[(0,a.jsx)(D.Ju,{className:"text-primary-boulder950 py-3",children:"Actions"}),(0,a.jsx)(D.VD,{}),(0,a.jsxs)(D.Qk,{children:[(0,a.jsxs)(D.Xi,{onClick:()=>n.push("/forms/".concat(t.uuid)),className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,a.jsx)(C,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Open"})]}),(0,a.jsxs)(D.Xi,{onClick:()=>n.push("/forms/show/".concat(t.uuid)),className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,a.jsx)(Z.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Preview"})]}),(0,a.jsxs)(D.Xi,{onClick:c,className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,a.jsx)(B.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Share"})]}),(0,a.jsxs)(D.Xi,{onClick:s,className:"text-primary-boulder700 focus:bg-background-lightYellow/20 py-2",children:[(0,a.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Delete"})]})]})]})]})})]})]})},Q=s(3047),M=s(2376);function I(){let{toast:e}=(0,i.pm)(),t=(0,l.useRouter)(),[s,d]=(0,r.useState)(null),[u,A]=(0,r.useState)(!1),h=(0,l.useSearchParams)().getAll("page"),[m,N]=(0,r.useState)({}),[k,E]=(0,r.useState)(null),[C,Z]=(0,r.useState)([]),[B,P]=(0,r.useState)(!1),[D,I]=(0,r.useState)("".concat("https://api.analogueshifts.com/api","/tools/form").concat(h.length?"?page=".concat(h[0]):"")),S=()=>{P(!0),c(D,s.token,e=>{N(e.data.data.forms),Z(e.data.data.forms.data),P(!1)},t=>{P(!1),e({variant:"destructive",title:"Uh oh! Error fetching forms.",description:t.message})})},_=async()=>{P(!0),(0,o.f)("".concat("https://api.analogueshifts.com/api","/tools/form/delete/").concat(k),s.token,()=>{S(),e({variant:"default",title:"Form deleted",description:"Your form has been deleted successfully"}),E(null)},t=>{e({variant:"destructive",title:"Uh oh! Error deleting form.",description:t.message}),P(!1)})};return(0,r.useEffect)(()=>{let e=n.Z.get("analogueshifts");e?d(JSON.parse(e)):t.push("/login")},[]),(0,r.useEffect)(()=>{s&&S()},[s]),(0,a.jsxs)("main",{className:"max-w-dashboard mt-3 w-[90%] mx-auto ",children:[B&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(M.Z,{})}),(0,a.jsx)(Q.Z,{title:"Confirm Delete",label:"Delete Form",action:()=>{_(),A(!1)},close:()=>{E(null),A(!1)},description:"Are you sure you want to delete this Vet? This action cannot be undone.",open:u}),(0,a.jsxs)("div",{className:"flex w-full justify-between mb-10 items-center gap-2 flex-wrap",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(p,{children:(0,a.jsxs)(g,{children:[(0,a.jsx)(f,{children:(0,a.jsx)(y,{href:(null==m?void 0:m.prev_page_url)?m.prev_page_url.slice(34):""})}),(null==m?void 0:m.links)&&m.links.slice(1,m.links.length-1).map(e=>(0,a.jsx)(f,{children:(0,a.jsx)(j,{isActive:e.active,href:e.url?e.url.slice(34):"",children:e.label})},crypto.randomUUID())),(0,a.jsx)(f,{children:(0,a.jsx)(v,{})}),(0,a.jsx)(f,{children:(0,a.jsx)(w,{href:(null==m?void 0:m.next_page_url)?m.next_page_url.slice(34):""})})]})})}),(0,a.jsx)("div",{className:"flex w-max gap-3",children:(0,a.jsxs)(x.z,{onClick:()=>t.push("/forms/create"),type:"submit",className:"bg-background-lightYellow flex items-center gap-2 hover:bg-background-lightYellow/80",children:["Create Form ",(0,a.jsx)(b.Z,{width:18,height:18})]})})]}),(0,a.jsx)("div",{className:"w-full grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-5 my-5",children:C[0]&&C.map(e=>(0,a.jsx)(F,{item:e,deleteForm:()=>{E(e.uuid),A(!0)}},crypto.randomUUID()))})]})}},3655:function(e,t,s){"use strict";s.d(t,{f:function(){return a}});let a=(e,t,a,r)=>{s(4681).request({method:"DELETE",url:e,headers:{Authorization:"Bearer "+t}}).then(a).catch(r)}}},function(e){e.O(0,[231,145,204,7,528,378,971,23,744],function(){return e(e.s=1789)}),_N_E=e.O()}]);